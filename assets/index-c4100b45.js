class Q extends HTMLElement{constructor(){super(),this.options=this.querySelectorAll(".option"),this.contents=this.querySelectorAll(".container-container-content-option-texts-main"),this.images=this.querySelectorAll(".image"),this.titles=this.querySelectorAll(".title_option"),this.options.length>0&&(this.options[0].classList.add("active"),this.showContent(1),this.showImage(1),this.showTitle(1)),this.options.forEach(t=>{t.addEventListener("click",this.handleOptionClick.bind(this))})}handleOptionClick(t){const e=t.currentTarget,s=parseInt(e.getAttribute("data-option-index-forloop")||"1");this.options.forEach(i=>i.classList.remove("active")),e.classList.add("active"),this.showContent(s),this.showImage(s),this.showTitle(s)}showContent(t){this.contents.forEach(e=>e.classList.add("hidden")),this.contents.forEach(e=>{parseInt(e.getAttribute("data-content-index-forloop")||"0")===t&&e.classList.remove("hidden")})}showImage(t){this.images.forEach(e=>e.classList.add("hidden")),this.images.forEach(e=>{parseInt(e.getAttribute("data-image-index-forloop")||"0")===t&&e.classList.remove("hidden")})}showTitle(t){this.titles.forEach(e=>e.classList.add("hidden")),this.titles.forEach(e=>{parseInt(e.getAttribute("data-content-index-forloop")||"0")===t&&e.classList.remove("hidden")})}}class J extends HTMLElement{constructor(){super(),this.editAddressButtons=null,this.editAddressModals=null,this.newAddressModal=null,this.newAddressButton=null,this.overlay=null,this.countrySelect=null,this.provinceSelect=null,this.initializeElements(),this.setupEventListeners(),this.selectMenuAccount(),this.initializeFirstItem()}initializeElements(){this.editAddressButtons=this.querySelectorAll(".edit p"),this.editAddressModals=this.querySelectorAll(".edit-modal"),this.newAddressModal=this.querySelector(".new-address-modal"),this.newAddressButton=this.querySelector(".btn-add-new-address p"),this.overlay=this.querySelector(".overlay"),this.countrySelect=this.querySelectorAll(".country-select"),this.provinceSelect=this.querySelectorAll(".province-select"),this.countrySelect.forEach(t=>{this.setupSelectedCountry(t,t.dataset.country||"")})}setupEventListeners(){var t;this.addEventListener("click",this.handleClick.bind(this)),(t=this.overlay)==null||t.addEventListener("click",()=>this.closeAllModals()),this.setupAddressFormSubmission(),this.setupCountryChangeListeners()}handleClick(t){const e=t.target;if(e.closest(".edit p"))this.openModal(t);else if(e.closest(".btn-add-new-address p"))this.openModal(t);else if(e.closest(".close")){const s=e.closest(".edit-modal, .new-address-modal");s&&this.closeModal(s)}else e.closest(".address-delete-form button")?this.handleDeleteAddress(t):e.closest('button[name="address[default]"]')&&this.handleSetDefaultAddress(t)}setupCountryChangeListeners(){var t;(t=this.countrySelect)==null||t.forEach(e=>{e.addEventListener("change",s=>this.handleCountryChange(s))})}openModal(t){var o,a;const e=t.target,s=e.closest(".edit p"),i=s==null?void 0:s.dataset.addressId;let n=null;i?n=this.querySelector(`#edit-modal-${i}`):e.closest(".btn-add-new-address p")&&(n=this.newAddressModal),n&&(n.classList.add("active"),(o=this.overlay)==null||o.classList.add("active"),(a=document.querySelector("body"))==null||a.classList.add("no-scroll"))}closeModal(t){t.classList.remove("active"),this.checkIfOverlayShouldClose()}closeAllModals(){var t,e,s,i;(t=this.editAddressModals)==null||t.forEach(n=>{n.classList.remove("active")}),(e=this.newAddressModal)==null||e.classList.remove("active"),(s=this.overlay)==null||s.classList.remove("active"),(i=document.querySelector("body"))==null||i.classList.remove("no-scroll")}checkIfOverlayShouldClose(){var e,s,i;if(!this.editAddressModals)return;Array.from(this.editAddressModals).some(n=>n.classList.contains("active"))||(((e=this.newAddressModal)==null?void 0:e.classList.contains("active"))??!1)||((s=this.overlay)==null||s.classList.remove("active"),(i=document.querySelector("body"))==null||i.classList.remove("no-scroll"))}handleCountryChange(t){const e=t.target,s=e.options[e.selectedIndex];if(s){const i=s.dataset.provinces;i&&this.updateProvinceSelect(e,JSON.parse(i))}}setupSelectedCountry(t,e){const s=t.options;for(let i=0;i<s.length;i++){const n=s[i];if(n.text===e||n.value===e){n.selected=!0;const o=n.dataset.provinces;o&&this.updateProvinceSelect(t,JSON.parse(o));break}}}updateProvinceSelect(t,e){var o,a;const s=(a=(o=t.parentElement)==null?void 0:o.parentElement)==null?void 0:a.querySelector(".province-select");if(!s)return;const i=s.dataset.provincedefault||"";s.innerHTML="";const n=document.createElement("option");n.value="",n.textContent="Selecione",s.appendChild(n),e.forEach(l=>{const c=document.createElement("option");c.value=l[0],c.textContent=l[0],c.selected=l[0]===i,s.appendChild(c)}),(!i||!s.querySelector(`option[value="${i}"]`))&&(n.selected=!0)}selectMenuAccount(){document.querySelectorAll(".menu-account-content li").forEach((e,s)=>{e.addEventListener("click",()=>{this.activateMenuItem(e,s)})})}initializeFirstItem(){const t=document.querySelectorAll(".menu-account-content li");t.length>0&&this.activateMenuItem(t[0],0)}activateMenuItem(t,e){var n;document.querySelectorAll(".menu-account-content li").forEach(o=>o.classList.remove("active")),t.classList.add("active");const i=t.textContent||((n=t.querySelector("a"))==null?void 0:n.textContent)||"";this.titleMenuSelected(i),e===3?(this.showLoading(),setTimeout(()=>{this.hideLoading(),this.showContentMenuSelected(e)},1e3)):this.showContentMenuSelected(e)}titleMenuSelected(t){const e=document.querySelector(".container-header .title-header");e&&this.animateTitleChange(e,t)}animateTitleChange(t,e){t.classList.add("fade-out"),setTimeout(()=>{t.textContent=e,t.classList.remove("fade-out"),t.classList.add("fade-in"),setTimeout(()=>{t.classList.remove("fade-in")},300)},300)}showLoading(){const t=document.querySelector(".container-info .loading-back");t&&t.classList.add("active")}hideLoading(){const t=document.querySelector(".container-info .loading-back");t&&t.classList.remove("active")}showContentMenuSelected(t){const e=document.querySelector(".show-content");e&&Array.from(e.children).filter(i=>!i.classList.contains("loading-back")).forEach((i,n)=>{n===t?i.classList.add("active"):i.classList.remove("active")})}setupAddressFormSubmission(){this.querySelectorAll('form[action^="/account/addresses"]').forEach(e=>{e.addEventListener("submit",this.handleAddressFormSubmit.bind(this))})}async handleAddressFormSubmit(t){t.preventDefault();const e=t.target,s=new FormData(e),i=e.action,n=e.method;try{if((await fetch(i,{method:n,body:s,headers:{"X-Requested-With":"XMLHttpRequest"}})).ok)await this.updateAddressList(),this.closeAllModals(),this.showSuccessMessage("Endereço atualizado com sucesso!");else throw new Error("Falha ao atualizar o endereço")}catch(o){console.error("Erro ao atualizar endereço:",o),this.showErrorMessage("Ocorreu um erro ao atualizar o endereço. Por favor, tente novamente.")}}async handleDeleteAddress(t){t.preventDefault();const s=t.target.closest("form");if(s&&confirm("Tem certeza de que deseja excluir este endereço?"))try{const i=await fetch(s.action,{method:"DELETE",headers:{"X-Requested-With":"XMLHttpRequest"}});if(i.ok)await this.updateAddressList(),this.showSuccessMessage("Endereço excluído com sucesso!");else{const n=await i.text();console.warn(`Resposta inesperada ao excluir endereço: ${i.status} ${n}`),await this.updateAddressList(),this.showWarningMessage("A exclusão pode ter sido bem-sucedida, mas houve uma resposta inesperada do servidor. A lista de endereços foi atualizada.")}}catch(i){console.error("Erro ao excluir endereço:",i),await this.updateAddressList(),this.showErrorMessage("Ocorreu um erro ao excluir o endereço. A lista de endereços foi atualizada para verificar as alterações.")}}async handleSetDefaultAddress(t){t.preventDefault();const s=t.target.closest("form");if(s)try{const i=new FormData(s);if(i.append("address[default]","true"),(await fetch(s.action,{method:s.method,body:i,headers:{"X-Requested-With":"XMLHttpRequest"}})).ok)await this.updateAddressList(),this.closeAllModals(),this.showSuccessMessage("Endereço definido como padrão com sucesso!");else throw new Error("Falha ao definir o endereço como padrão")}catch(i){console.error("Erro ao definir endereço como padrão:",i),this.showErrorMessage("Ocorreu um erro ao definir o endereço como padrão. Por favor, tente novamente.")}}async updateAddressList(){try{const t=await fetch("/account?view=addresses");if(t.ok){const e=await t.text(),n=new DOMParser().parseFromString(e,"text/html").querySelector(".container-adress-details-content");if(n){const o=this.querySelector(".container-adress-details-content");o?(o.innerHTML=n.innerHTML,this.initializeElements(),this.setupAddressFormSubmission(),this.setupCountryChangeListeners()):console.error("Elemento .container-adress-details-content não encontrado no DOM atual")}else console.error("Novo conteúdo de endereços não encontrado na resposta")}else console.warn(`Falha ao buscar a lista de endereços: ${t.status}`),confirm("Não foi possível atualizar a lista de endereços. Deseja recarregar a página?")&&window.location.reload()}catch(t){console.error("Erro ao atualizar a lista de endereços:",t),confirm("Ocorreu um erro ao atualizar a lista de endereços. Deseja recarregar a página?")&&window.location.reload()}}showSuccessMessage(t){console.log(t),alert(t)}showErrorMessage(t){console.error(t),alert(t)}showWarningMessage(t){console.warn(t),alert(t)}}class K extends HTMLElement{constructor(){super(),this.passwordInput=this.querySelector(".input-password"),this.passwordIcon=this.querySelector(".icon-password-reveal"),this.loginForm=this.querySelector("#login-form"),this.resetForm=this.querySelector("#reset-form"),this.toggleLoginFormLink=this.querySelector("[data-toggle-login-form]"),this.toggleResetFormLink=this.querySelector("[data-toggle-reset-form]"),this.attachEventListeners(),this.checkUrlHash()}attachEventListeners(){this.passwordIcon&&this.passwordIcon.addEventListener("click",this.togglePassword.bind(this)),this.toggleLoginFormLink&&this.toggleLoginFormLink.addEventListener("click",this.showResetForm.bind(this)),this.toggleResetFormLink&&this.toggleResetFormLink.addEventListener("click",this.showLoginForm.bind(this))}togglePassword(){!this.passwordInput||!this.passwordIcon||(this.passwordInput.type==="password"?(this.passwordInput.type="text",this.passwordIcon.classList.add("active")):(this.passwordInput.type="password",this.passwordIcon.classList.remove("active")))}showLoginForm(t){t&&t.preventDefault(),!(!this.loginForm||!this.resetForm)&&(this.loginForm.style.display="block",this.resetForm.style.display="none",history.pushState(null,"",window.location.pathname))}showResetForm(t){t&&t.preventDefault(),!(!this.loginForm||!this.resetForm)&&(this.loginForm.style.display="none",this.resetForm.style.display="block",history.pushState(null,"",window.location.pathname+"#recover"))}checkUrlHash(){window.location.hash==="#recover"?this.showResetForm():this.showLoginForm()}}const R=class p extends HTMLElement{constructor(){super(),p.instance||(p.instance=this),p.instance.addEventListener("click",()=>{var t;(t=p.instance)==null||t.setAttribute("hidden","")})}static loadMessage(t,e=3e3){var s;p.instance&&((s=p.instance)==null||s.removeAttribute("hidden"),p.instance.innerHTML=t,setTimeout(()=>{var i;(i=p.instance)==null||i.setAttribute("hidden","")},e))}};R.instance=null;let y=R;class Y extends HTMLElement{constructor(){super(),this.articleBody=this.querySelector(".article_body")}connectedCallback(){this.articleBody&&this.wrapConsecutiveImages()}wrapConsecutiveImages(){const t=Array.from(this.articleBody.querySelectorAll("img")),e=[];let s=[];t.forEach((i,n)=>{s.push(i);const o=t[n+1];(!(o&&o.previousElementSibling===i)||n===t.length-1)&&((s.length===2||s.length===3)&&e.push({images:[...s]}),s=[])}),e.forEach(({images:i})=>{const n=document.createElement("div");n.className=i.length===2?"grid_two":"grid_three",i[0].parentNode.insertBefore(n,i[0]),i.forEach(o=>n.appendChild(o))})}}function Z(r){const{slidesToShow:t,slidesToScroll:e,loop:s}=r.config,{isStatic:i,totalSlides:n}=r,o=[],a=n-1;for(let l=0;l<n;l+=e){const c=l+t-1;if(c>a)if(s){const h=c-n;o.push([l,h])}else{const h=a-t+1,u=o.length-1;(o.length===0||o.length>0&&o[u][0]!==h)&&o.push([h,a]);break}else o.push([l,c]);if(i)break}return o}function tt(r){const{totalSlides:t}=r,{loop:e}=r.config,s=Z(r),i=[],n=s.length-1;for(let o=0;o<s.length;o++){let a,l;e?(a=o===n?0:o+1,l=o===0?n:o-1):(a=o===n?n:o+1,l=o===0?0:o-1);const c=s[o][0],d=s[a][0],h=s[l][0];let u=d-c;d<c&&(u+=t);let S=c-h;h>c&&(S+=t),i.push({page:s[o],next:{stateIndex:a,moveSlides:u},prev:{stateIndex:l,moveSlides:S}})}return i}const C="start",B="end";function et(r){const{slidesToScroll:t,slidesToShow:e}=r.config,{totalSlides:s,config:i}=r;if(s<e&&(i.slidesToShow=s),!(s<=e)&&(t>e&&(i.slidesToScroll=e),s<t+e)){const n=s-e;i.slidesToScroll=n}}class st{constructor(t,e){this.config=e,this.totalSlides=t,this.isTransitioning=!1,$(this,t,e)}next(t=1){if(this.isTransitioning||this.isStatic)return;const{stateIndex:e}=this;let s=0,i=e;for(let n=0;n<t;n++){const o=this.states[i];s+=o.next.moveSlides,i=o.next.stateIndex}if(i!==e)return this.stateIndex=i,[e,s]}prev(t=1){if(this.isTransitioning||this.isStatic)return;const{stateIndex:e}=this;let s=0,i=e;for(let n=0;n<t;n++){const o=this.states[i];s+=o.prev.moveSlides,i=o.prev.stateIndex}if(i!==e)return this.stateIndex=i,[e,s]}}function $(r,t,e){r.stateIndex=0,et(r),r.isStatic=t<=e.slidesToShow,r.states=tt(r)}function it(r,t){const e=requestAnimationFrame;if(!r.config.loop)z(r);else{M(r),r.offset=-1*t,f(r),nt(r,t);const s=()=>{e(()=>{k(r),e(()=>{r.offset=0,f(r),T(r)})})};r.isDragging?w()?r.track.addEventListener("touchend",s,{once:!0}):r.track.addEventListener("pointerup",s,{once:!0}):e(s)}}function rt(r,t){const e=requestAnimationFrame;r.config.loop?(r.offset=-1*t,f(r),setTimeout(()=>{ot(r,t),M(r),r.offset=0,f(r),e(()=>{e(()=>{k(r),T(r)})})},r.config.transitionDuration)):z(r)}function T(r){if(r.onSlideCbs){const t=r.states[r.stateIndex],[e,s]=t.page;r.onSlideCbs.forEach(i=>i(r.stateIndex,e,s))}}function z(r){r.offset=-1*r.states[r.stateIndex].page[0],f(r),T(r)}function nt(r,t){const e=r.slides.length;for(let s=0;s<t;s++){const i=r.slides[e-1];r.track.prepend(i)}}function ot(r,t){for(let e=0;e<t;e++)r.track.append(r.slides[0])}function f(r){const{track:t,offset:e,dragged:s}=r;e===0?t.style.transform=`translate3d(${s}px,0px,0px)`:t.style.transform=`translate3d(  calc( ${s}px + ${e} * (var(--slide-width) + ${r.config.slideGap})),0px,0px)`}function k(r){r.track.style.transitionDuration=`${r.config.transitionDuration}ms`}function M(r){r.track.style.transitionDuration="0ms"}const A=10,w=()=>"ontouchstart"in window;function W(r){const t=this,e=t.slider;e.isTransitioning||(e.dragged=0,t.isScrolled=!1,t.startMouseClientX="touches"in r?r.touches[0].clientX:r.clientX,"touches"in r||(r.target||t).setPointerCapture(r.pointerId),M(e),U(t,"addEventListener"))}function V(r){const t=this,e="touches"in r?r.touches[0].clientX:r.clientX,s=t.slider.dragged=e-t.startMouseClientX,i=Math.abs(s);i>5&&(t.slider.isDragging=!0),i>15&&r.preventDefault(),t.slider.dragged=s,f(t.slider),!t.isScrolled&&t.slider.config.loop&&s>A&&(t.isScrolled=!0,t.slider.prev())}function P(){const r=this,t=r.slider.dragged;r.slider.isDragging=!1,U(r,"removeEventListener"),r.slider.dragged=0,f(r.slider),k(r.slider),r.isScrolled||(t<-1*A?r.slider.next():t>A&&r.slider.prev())}const at=r=>r.preventDefault();function ct(r){const t=r.track;t.slider=r;const e=w()?"touchstart":"pointerdown";t.addEventListener(e,W),t.addEventListener("click",s=>{(r.isTransitioning||r.isDragging)&&(s.preventDefault(),s.stopImmediatePropagation(),s.stopPropagation())},{capture:!0}),t.addEventListener("dragstart",at)}function U(r,t){r[t]("contextmenu",P),w()?(r[t]("touchend",P),r[t]("touchmove",V)):(r[t]("pointerup",P),r[t]("pointermove",V))}function lt(r){const t=r.config;if(!t.enableAutoplay)return;const e=t.autoplayDirection==="to left"?"next":"prev";r.autoplayTimer=setInterval(()=>{r[e]()},t.autoplayInterval),t.stopAutoplayOnInteraction&&r.el.addEventListener(w()?"touchstart":"mousedown",()=>{clearInterval(r.autoplayTimer)},{once:!0})}const q={slideGap:"20px",slidesToScroll:1,slidesToShow:1,loop:!0,enableAutoplay:!1,stopAutoplayOnInteraction:!0,autoplayInterval:3e3,autoplayDirection:"to left",enablePagination:!0,transitionDuration:300,transitionTimingFunction:"ease",draggable:!0};function F(r){const t={...q};for(const e in r)if(window.matchMedia(e).matches){const s=r[e];for(const i in s)t[i]=s[i]}return t}function dt(r){const t=r.el.querySelector(".blaze-prev"),e=r.el.querySelector(".blaze-next");t&&(t.onclick=()=>{r.prev()}),e&&(e.onclick=()=>{r.next()})}function ht(r){if(!r.config.enablePagination||r.isStatic)return;const t=r.el.querySelector(".blaze-pagination");if(!t)return;r.paginationButtons=[];const e=r.states.length;for(let s=0;s<e;s++){const i=document.createElement("button");r.paginationButtons.push(i),i.textContent=1+s+"",i.ariaLabel=`${s+1} of ${e}`,t.append(i),i.slider=r,i.index=s,i.onclick=ut}r.paginationButtons[0].classList.add("active")}function ut(){const r=this.index,t=this.slider,e=t.stateIndex,s=t.config.loop,i=Math.abs(r-e),n=t.states.length-i,a=i>t.states.length/2&&s;r>e?a?t.prev(n):t.next(i):a?t.next(n):t.prev(i)}function b(r,t=r.config.transitionDuration){r.isTransitioning=!0,setTimeout(()=>{r.isTransitioning=!1},t)}class g extends st{constructor(t,e){const s=t.querySelector(".blaze-track"),i=s.children,n=e?F(e):{...q};super(i.length,n),this.config=n,this.el=t,this.track=s,this.slides=i,this.offset=0,this.dragged=0,this.isDragging=!1,this.el.blazeSlider=this,this.passedConfig=e;const o=this;s.slider=o,N(n,o);let a=!1,l=0;window.addEventListener("resize",()=>{if(l===0){l=window.innerWidth;return}const c=window.innerWidth;l!==c&&(l=c,a||(a=!0,setTimeout(()=>{o.refresh(),a=!1},200)))})}next(t){if(this.isTransitioning)return;const e=super.next(t);if(!e){b(this);return}const[s,i]=e;O(this,s),b(this),rt(this,i)}prev(t){if(this.isTransitioning)return;const e=super.prev(t);if(!e){b(this);return}const[s,i]=e;O(this,s),b(this),it(this,i)}stopAutoplay(){clearInterval(this.autoplayTimer)}destroy(){var t;this.track.removeEventListener(w()?"touchstart":"pointerdown",W),this.stopAutoplay(),(t=this.paginationButtons)==null||t.forEach(e=>e.remove()),this.el.classList.remove("static"),this.el.classList.remove(C)}refresh(){const t=this.passedConfig?F(this.passedConfig):{...q};this.destroy(),N(t,this)}onSlide(t){return this.onSlideCbs||(this.onSlideCbs=new Set),this.onSlideCbs.add(t),()=>this.onSlideCbs.delete(t)}}function O(r,t){const e=r.el.classList,s=r.stateIndex,i=r.paginationButtons;r.config.loop||(s===0?e.add(C):e.remove(C),s===r.states.length-1?e.add(B):e.remove(B)),i&&r.config.enablePagination&&(i[t].classList.remove("active"),i[s].classList.add("active"))}function N(r,t){const e=t.track;t.slides=e.children,t.offset=0,t.config=r,$(t,t.totalSlides,r),r.loop||t.el.classList.add(C),r.enableAutoplay&&!r.loop&&(r.enableAutoplay=!1),e.style.transitionProperty="transform",e.style.transitionTimingFunction=t.config.transitionTimingFunction,e.style.transitionDuration=`${t.config.transitionDuration}ms`;const{slidesToShow:s,slideGap:i}=t.config;t.el.style.setProperty("--slides-to-show",s+""),t.el.style.setProperty("--slide-gap",i),t.isStatic?t.el.classList.add("static"):r.draggable&&ct(t),ht(t),lt(t),dt(t),f(t)}class pt extends HTMLElement{constructor(){super(),this.sliderElementCarouselProduct=this.setupSlider()}setupSlider(){const t=this.querySelector(".banner-carousel-products-slider"),e=new g(t,{all:{transitionDuration:300,transitionTimingFunction:"cubic-bezier(0.45, 0.1, 0.45, 0.5)",draggable:!0,slidesToShow:3,slideGap:"20px",loop:!1},"(max-width: 1200px)":{slidesToShow:2.5},"(max-width: 768px)":{slidesToShow:3},"(max-width: 600px)":{slidesToShow:2.5},"(max-width: 480px)":{slidesToShow:1.4}});return this.updateButtonState(0,e),window.addEventListener("resize",()=>{this.updateButtonState((e==null?void 0:e.stateIndex)||0,e)}),e.onSlide(s=>{this.updateButtonState(s,e)}),e}updateButtonState(t,e){const s=this.querySelector(".banner-carousel-products--prev"),i=this.querySelector(".banner-carousel-products--next");t===0?s.setAttribute("disabled","true"):s.removeAttribute("disabled"),e&&(t===e.states.length-1?i.setAttribute("disabled","true"):i.removeAttribute("disabled"))}}class mt extends HTMLElement{constructor(){super(),this.sliderElement=null,this.slider=this.querySelector(".blaze-slider"),this.videos=this.querySelectorAll("video"),this.playBtns=this.querySelectorAll(".banner_video_play"),this.videos.forEach(t=>{t.addEventListener("click",()=>{this.handleVideoClick(t)})}),this.playBtns.forEach(t=>{t.addEventListener("click",()=>{var s;const e=(s=t.parentElement)==null?void 0:s.querySelector("video");this.handleVideoClick(e)})}),this.initializeBlazer()}handleVideoClick(t){var e,s,i,n;t.paused?(t.play(),(s=(e=t.parentElement)==null?void 0:e.querySelector(".banner_video_play"))==null||s.removeAttribute("active")):(t.pause(),(n=(i=t.parentElement)==null?void 0:i.querySelector(".banner_video_play"))==null||n.setAttribute("active",""))}initializeBlazer(){this.sliderElement=new g(this.slider,{all:{transitionDuration:300,slidesToShow:1,slideGap:"0px"}}),this.sliderElement.onSlide(()=>{const t=this.querySelector(".first_banner");t&&t.classList.remove("first_banner")})}}class ft extends HTMLElement{constructor(){super(),this.sliderElementCarouselProduct=this.setupSlider()}setupSlider(){const t=this.querySelector(".carousel-product-slider"),e=new g(t,{all:{transitionDuration:300,transitionTimingFunction:"cubic-bezier(0.45, 0.1, 0.45, 0.5)",draggable:!0,slidesToShow:4,slideGap:"60px",loop:!1},"(max-width: 1024px)":{slidesToShow:3,slideGap:"40px"},"(max-width: 768px)":{slidesToShow:2.5,slideGap:"30px"},"(max-width: 480px)":{slidesToShow:1.4,slideGap:"20px"}});return this.updateButtonState(0,e),window.addEventListener("resize",()=>{this.updateButtonState((e==null?void 0:e.stateIndex)||0,e)}),e.onSlide(s=>{this.updateButtonState(s,e)}),e}updateButtonState(t,e){const s=this.querySelector(".carousel-product--prev"),i=this.querySelector(".carousel-product--next");t===0?s.setAttribute("disabled","true"):s.removeAttribute("disabled"),e&&(t===e.states.length-1?i.setAttribute("disabled","true"):i.removeAttribute("disabled"))}}class gt{async getCart(){return await(await fetch("/cart.js")).json()}async addToCart(t,e=1){const i=await fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:t,quantity:e}]})});if(!i.ok)throw i.status===422?new Error("Product is out of stock"):new Error("Failed to add item to cart");return this.getCart()}async updateCart(t,e){try{const s={updates:{[t]:e}};if(!(await fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw new Error("Failed to update cart");return await this.getCart()}catch(s){throw s}}async removeFromCart(t){return this.updateCart(t,0)}}class yt{async getProducts(){return(await(await fetch("/products.json")).json()).products}async getProductByUrl(t){return(await(await fetch(`${t}.json`)).json()).product}async getProduct(t){return(await(await fetch(`/products/${t}.json`)).json()).product}async getCollection(t){return(await(await fetch(`/collections/${t}.json`)).json()).collection}}class _{constructor(){this.cartService=new gt,this.productService=new yt}getCart(){return this.cartService.getCart()}getProducts(){return this.productService.getProducts()}getProduct(t){return this.productService.getProduct(t)}getProductByUrl(t){return this.productService.getProductByUrl(t)}getCollection(t){return this.productService.getCollection(t)}async addToCart(t,e,s=1){return this.cartService.addToCart(e,s)}removeFromCart(t){return this.cartService.removeFromCart(t)}updateCart(t,e){return this.cartService.updateCart(t,e)}}function m(r){var c;if(!r)return;const t=((c=r.dataset.price)==null?void 0:c.replace(/[^\d]/g,""))||"0",e=Number(t)/100,s=Number(r.dataset.installmentsCount)||1,i=Number(r.dataset.installmentsMinPrice)||0,n=r.dataset.showInterestFree==="true",o=Math.min(Math.floor(e/(i/100)),s);if(o<=1||e<=0){r.textContent="";return}const a=e/o,l=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2});r.textContent=`em até ${o}x de ${l.format(a)}`+(n&&e>=i/100*o?" sem juros":"")}class St extends HTMLElement{constructor(){var t,e,s;super(),this.relatedProductsAdds=null,this.fetchData=new _,this.translations=this.loadTranslations(),this.cartProducts=this.querySelector(".cart_products"),this.loaderProductCart=document.querySelector("#cart_products_loader"),this.removeIcons=this.querySelectorAll(".cart_remove_icon svg"),this.cartRelatedProducts=this.querySelectorAll(".cart_related_product__snippet"),this.cartIcon=document.querySelector(".header__cart"),this.closeIcon=this.querySelector(".close-modal"),this.cartItemCount=this.querySelector(".cart__item_count"),this.bagItemCount=document.querySelector(".bag_count"),this.itemQuantityDiv=this.querySelectorAll(".cart_item_quantity"),this.cartDrawerContent=this.querySelector(".cart_drawer__content"),this.progressBar=this.querySelector(".progress"),this.progressSpan=this.querySelector(".progress_span"),this.cartSubtotal=this.querySelector(".cart_subtotal_price"),this.freeShippingPrice=Number(this.getAttribute("data-free-shipping-price")),this.cartShippingPrice=this.querySelector(".cart_shipping_price"),this.firstProduct="",this.installmentsContent=document.querySelectorAll("[data-product-installments]"),(t=this.installmentsContent)==null||t.forEach(i=>{m(i)}),!(window.location.pathname=="/cart"&&window.location.search!=="?view=cart-drawer")&&((e=this.cartIcon)==null||e.addEventListener("click",()=>this.toggleCart()),(s=this.closeIcon)==null||s.addEventListener("click",()=>this.toggleCart()),document.addEventListener("click",i=>this.handleClickOutside(i)),this.setupEventListeners(),this.updateFreeShippingProgress(),this.loadRelatedProducts(),this.handlePercentagemDiscount())}async addToCart(t){var s;const e=t.dataset.id;(s=this.loaderProductCart)==null||s.setAttribute("active",""),await this.fetchData.addToCart("",e,1),this.fetchNewCart()}handleClickOutside(t){var e,s;this.hasAttribute("open")&&!((e=this.cartDrawerContent)!=null&&e.contains(t.target))&&!((s=this.cartIcon)!=null&&s.contains(t.target))&&this.closeCart()}loadRelatedProducts(){var e;this.firstProduct=this.querySelector("[data-related-product]");const t=(e=this.firstProduct)==null?void 0:e.dataset.relatedProduct;fetch(window.location.origin+`/recommendations/products?product_id=${t}&limit=4&section_id=cart-related-products&intent=related`).then(s=>s.text()).then(s=>{var l;const o=new DOMParser().parseFromString(s,"text/html").querySelector("cart-related-products");o&&this.cartRelatedProducts&&this.cartRelatedProducts.forEach(c=>{c.innerHTML=o.innerHTML}),this.querySelectorAll(".variant-select").forEach(c=>{c.addEventListener("change",()=>{const d=c.querySelector("option:checked"),h=d.value,u=d.dataset.price,S=c.closest(".cart_related_product__container"),G=S.querySelector(".cart_related_product_add"),X=S.querySelector(".cart_related_product_price");X.textContent=u||"",G.dataset.id=h})}),this.relatedProductsAdds=this.querySelectorAll(".cart_related_product_add"),(l=this.relatedProductsAdds)==null||l.forEach(c=>{c.addEventListener("click",()=>{this.addToCart(c)})})})}async removeProduct(t){var e;(e=this.loaderProductCart)==null||e.setAttribute("active",""),await this.fetchData.removeFromCart(t||""),this.fetchNewCart()}setupEventListeners(){var t,e;this.loaderProductCart=document.querySelector("#cart_products_loader"),this.removeIcons=this.querySelectorAll(".cart_remove_icon svg"),(t=this.removeIcons)==null||t.forEach(s=>{s.addEventListener("click",()=>{const i=s.parentElement;this.removeProduct(i.getAttribute("data-id"))})}),this.itemQuantityDiv=this.querySelectorAll(".cart_item_quantity"),(e=this.itemQuantityDiv)==null||e.forEach(s=>{const i=s.querySelector(".minus_cart"),n=s.querySelector(".plus_cart"),o=s.querySelector(".cart_item__quantity_text");o&&(i==null||i.addEventListener("click",async()=>{var l,c,d;const a=parseInt((o==null?void 0:o.textContent)||"0");if(a===1)return this.removeProduct(s.getAttribute("data-id"));if(a>1)try{(l=this.loaderProductCart)==null||l.setAttribute("active",""),await this.fetchData.updateCart(s.getAttribute("data-id")||"",a-1),this.fetchNewCart(),o.textContent=(a-1).toString(),(c=this.loaderProductCart)==null||c.removeAttribute("active")}catch(h){y.loadMessage(`${h}`,3e3)}finally{(d=this.loaderProductCart)==null||d.removeAttribute("active")}}),n==null||n.addEventListener("click",async()=>{var a,l,c;if(o.textContent!=="10")try{const d=parseInt((o==null?void 0:o.textContent)||"0");(a=this.loaderProductCart)==null||a.setAttribute("active",""),await this.fetchData.addToCart("",s.getAttribute("data-id")||"",1),this.fetchNewCart(),o.textContent=(d+1).toString(),(l=this.loaderProductCart)==null||l.removeAttribute("active")}catch(d){y.loadMessage(`${d}`,3e3)}finally{(c=this.loaderProductCart)==null||c.removeAttribute("active")}}))})}fetchNewCart(){if(window.location.pathname=="/cart")return;const t=`${window.location.origin}/cart?view=cart-drawer`;fetch(t).then(e=>e.text()).then(async e=>{await this.updateCart(e),this.hasAttribute("open")||this.openCart()})}async updateCart(t){var e,s,i,n,o;try{const l=new DOMParser().parseFromString(t,"text/html"),c=(e=l.querySelector("cart-drawer .cart_products"))==null?void 0:e.innerHTML,d=(s=l.querySelector("cart-drawer .cart_subtotal_price"))==null?void 0:s.innerHTML,h=(i=l.querySelector("cart-drawer .cart__item_count"))==null?void 0:i.innerHTML;c&&this.cartProducts&&(this.cartProducts.innerHTML=c),d&&this.cartSubtotal&&(this.cartSubtotal.innerHTML=d),h&&this.cartItemCount&&(this.cartItemCount.innerHTML=h),h&&this.bagItemCount&&(this.bagItemCount.innerHTML=h.replace("(","").replace(")","")),(n=this.loaderProductCart)==null||n.removeAttribute("active"),this.setupEventListeners(),this.openCart(),this.updateFreeShippingProgress(),this.loadRelatedProducts(),this.handlePercentagemDiscount()}catch(a){console.error(a)}finally{(o=this.loaderProductCart)==null||o.removeAttribute("active")}}handlePercentagemDiscount(){this.querySelectorAll(".cart_item_discount").forEach(e=>{const s=e.dataset.originalPrice,i=e.dataset.price,n=e.dataset.months,o=e.querySelector(".percentage_discount"),a=this.calculateMonthlyPercentageDifference(s,i,n);o.innerHTML=a})}calculateMonthlyPercentageDifference(t,e,s){if(!t||!e)return"";const i=s.match(/(\d+)/),n=i?parseInt(i[0],10):1,o=parseFloat(t.replace(/[^\d.-]/g,"")),a=parseFloat(e.replace(/[^\d.-]/g,""));if(isNaN(o)||isNaN(a)||o===0)return"";const l=a/n,c=(o-l)/o*100;return c==0?"":`${c.toFixed(0)}% OFF`}toggleCart(){this.hasAttribute("open")?this.closeCart():this.openCart()}openCart(){this.setAttribute("open",""),document.body.classList.add("no-scroll"),this.updateFreeShippingProgress()}closeCart(){this.removeAttribute("open"),document.body.classList.remove("no-scroll")}updateFreeShippingProgress(){if(!this.cartSubtotal||!this.progressBar||!this.progressSpan||!this.cartShippingPrice)return;const t=this.extractPrice(this.cartSubtotal.textContent),e=Math.min(t/this.freeShippingPrice*100,100);if(this.progressBar.style.width=`${e}%`,t>=this.freeShippingPrice)this.progressSpan.textContent=this.translations["free-shipping"],this.cartShippingPrice.textContent=this.translations.free;else{const s=this.freeShippingPrice-t;this.progressSpan.textContent=`${this.formatPrice(s)} ${this.translations["missing-free-shipping"]}`,this.cartShippingPrice.textContent=this.translations.to_be_calculated}}extractPrice(t){return t&&parseFloat(t.replace(/[^0-9,]/g,"").replace(",","."))||0}formatPrice(t){return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}loadTranslations(){const t=document.querySelector('script[type="application/json"][data-translations]');if(t)try{return JSON.parse(t.textContent||"{}")}catch(e){console.error("Error parsing translations:",e)}return{}}}class vt extends HTMLElement{constructor(){var t;super(),this.fetchData=new _,this.translations=this.loadTranslations(),this.freeShippingPrice=Number(this.getAttribute("data-free-shipping-price")),this.progressBar=this.querySelector(".progress"),this.progressSpan=this.querySelector(".progress_span"),this.cartSubtotal=this.querySelector(".cart_subtotal_price"),this.cartShippingPrice=this.querySelector(".cart_shipping_price"),this.removeIcons=this.querySelectorAll(".cart_remove_icon"),this.itemQuantityDiv=this.querySelectorAll(".cart_item_quantity"),this.cartProducts=this.querySelector(".cart_section_cart_products"),this.cartItemCount=this.querySelector(".cart__item_count"),this.bagItemCount=document.querySelector(".bag_items_count"),this.cartRelatedProducts=document.querySelectorAll("#relatedProductSection .cart_related_product__snippet"),this.firstProduct="",this.loaderProductCart=document.querySelector("#cart_section_products_loader"),this.installmentsContent=document.querySelectorAll("[data-product-installments]"),(t=this.installmentsContent)==null||t.forEach(e=>{m(e)}),this.updateFreeShippingProgress(),this.setupEventListeners(),this.loadRelatedProducts()}setupEventListeners(){var t,e;this.loaderProductCart=document.querySelector("#cart_section_products_loader"),this.removeIcons=this.querySelectorAll(".cart_remove_icon"),(t=this.removeIcons)==null||t.forEach(s=>{s.addEventListener("click",()=>{this.removeProduct(s.getAttribute("data-id"))})}),this.itemQuantityDiv=this.querySelectorAll(".cart_item_quantity"),(e=this.itemQuantityDiv)==null||e.forEach(s=>{const i=s.querySelector(".minus_cart"),n=s.querySelector(".plus_cart"),o=s.querySelector(".cart_item__quantity_text");o&&(i==null||i.addEventListener("click",async()=>{var l,c,d;const a=parseInt((o==null?void 0:o.textContent)||"0");if(a===1)return this.removeProduct(s.getAttribute("data-id"));if(a>1)try{(l=this.loaderProductCart)==null||l.setAttribute("active",""),await this.fetchData.updateCart(s.getAttribute("data-id")||"",a-1),this.fetchNewCart(),o.textContent=(a-1).toString(),(c=this.loaderProductCart)==null||c.removeAttribute("active")}catch(h){y.loadMessage(`${h}`,3e3)}finally{(d=this.loaderProductCart)==null||d.removeAttribute("active")}}),n==null||n.addEventListener("click",async()=>{var a,l,c;if(o.textContent!=="10")try{const d=parseInt((o==null?void 0:o.textContent)||"0");(a=this.loaderProductCart)==null||a.setAttribute("active",""),await this.fetchData.addToCart("",s.getAttribute("data-id")||"",1),this.fetchNewCart(),o.textContent=(d+1).toString(),(l=this.loaderProductCart)==null||l.removeAttribute("active")}catch(d){y.loadMessage(`${d}`,3e3)}finally{(c=this.loaderProductCart)==null||c.removeAttribute("active")}}))})}fetchNewCart(){const t=`${window.location.origin}/cart`;fetch(t).then(e=>e.text()).then(async e=>{await this.updateCart(e)})}async updateCart(t){var e,s,i,n;try{const a=new DOMParser().parseFromString(t,"text/html"),l=(e=a.querySelector(".cart_section_products__container"))==null?void 0:e.innerHTML,c=(s=a.querySelector("cart-section .cart_subtotal_price"))==null?void 0:s.innerHTML,d=(i=a.querySelector("cart-section .cart__item_count"))==null?void 0:i.innerHTML;l&&this.cartProducts&&(this.cartProducts.innerHTML=l),c&&this.cartSubtotal&&(this.cartSubtotal.innerHTML=c),d&&this.cartItemCount&&(this.cartItemCount.innerHTML=d),d&&this.bagItemCount&&(this.bagItemCount.innerHTML=d.replace("(","").replace(")","")),this.setupEventListeners(),this.updateFreeShippingProgress()}catch(o){console.error("Erro ao atualizar o carrinho:",o)}finally{(n=this.loaderProductCart)==null||n.removeAttribute("active")}}async removeProduct(t){var e,s;(e=this.loaderProductCart)==null||e.setAttribute("active",""),await this.fetchData.removeFromCart(t||""),this.fetchNewCart(),(s=this.loaderProductCart)==null||s.removeAttribute("active")}updateFreeShippingProgress(){if(!this.cartSubtotal||!this.progressBar||!this.progressSpan||!this.cartShippingPrice)return;const t=this.extractPrice(this.cartSubtotal.textContent),e=Math.min(t/this.freeShippingPrice*100,100);if(this.progressBar.style.width=`${e}%`,t>=this.freeShippingPrice)this.progressSpan.textContent=this.translations["free-shipping"],this.cartShippingPrice.textContent=this.translations.free;else{const s=this.freeShippingPrice-t;this.progressSpan.textContent=`${this.formatPrice(s)} ${this.translations["missing-free-shipping"]}`,this.cartShippingPrice.textContent=this.translations.to_be_calculated}}loadRelatedProducts(){var e;this.firstProduct=this.querySelector("[data-related-product]");const t=(e=this.firstProduct)==null?void 0:e.dataset.relatedProduct;fetch(window.location.origin+`/recommendations/products?product_id=${t}&limit=3&section_id=cart-related-products&intent=related`).then(s=>s.text()).then(s=>{const o=new DOMParser().parseFromString(s,"text/html").querySelector("cart-related-products");o&&this.cartRelatedProducts&&this.cartRelatedProducts.forEach(l=>{l.innerHTML=o.innerHTML}),document.querySelectorAll("cart-related-products .info_installment").forEach(l=>{m(l)}),this.handleAddToCart(),this.handleChangeVariant()})}handleChangeVariant(){document.querySelectorAll("#relatedProductSection .variant-select").forEach(e=>{e.addEventListener("change",async()=>{var n,o,a;const s=e.value,i=(a=(o=(n=e.parentElement)==null?void 0:n.parentElement)==null?void 0:o.parentElement)==null?void 0:a.querySelector(".related_product_section_add__a");i.dataset.id=s})})}handleAddToCart(){document.querySelectorAll(".related_product_section_add__a").forEach(e=>{e.addEventListener("click",async()=>{var i,n;(i=this.loaderProductCart)==null||i.setAttribute("active","");const s=e.dataset.id;await this.fetchData.addToCart("",s,1),this.fetchNewCart(),(n=this.loaderProductCart)==null||n.removeAttribute("active")})})}extractPrice(t){return t&&parseFloat(t.replace(/[^0-9,]/g,"").replace(",","."))||0}formatPrice(t){return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}loadTranslations(){const t=document.querySelector('script[type="application/json"][data-translations]');if(t)try{return JSON.parse(t.textContent||"{}")}catch(e){console.error("Error parsing translations:",e)}return{}}}class wt{constructor(t,e){this.minValue=null,this.maxValue=null,this.containerRange=t,this.containerPrice=e,this.slider=t.querySelector(".price-range-slider"),this.minHandle=t.querySelector(".range_min"),this.maxHandle=t.querySelector(".range_max"),this.min=this.parsePrice(this.slider.dataset.min||"0"),this.max=this.parsePrice(this.slider.dataset.max||"100"),this.minName=this.slider.dataset.minName||"",this.maxName=this.slider.dataset.maxName||"",this.containerPrice=this.containerPrice.querySelector(".price-range-text"),this.minPriceElement=e.querySelector(".price-range-text__min"),this.maxPriceElement=e.querySelector(".price-range-text__max"),this.initValues(),this.init(),this.updatePriceDisplay()}initValues(){const t=new URLSearchParams(window.location.search),e=t.get(this.minName),s=t.get(this.maxName);this.minValue=e?this.parsePrice(e):this.min,this.maxValue=s?this.parsePrice(s):this.max,this.minValue=Math.max(this.min,Math.min(this.minValue,this.max)),this.maxValue=Math.max(this.min,Math.min(this.maxValue,this.max))}init(){if(this.minValue===null||this.maxValue===null)throw new Error("Invalid values");const t=this.valueToPosition(this.minValue),e=this.valueToPosition(this.maxValue);this.setHandlePosition(this.minHandle,t),this.setHandlePosition(this.maxHandle,e),this.addEventListeners(this.minHandle),this.addEventListeners(this.maxHandle)}addEventListeners(t){t.addEventListener("mousedown",this.startDragging.bind(this,t)),t.addEventListener("touchstart",this.startDragging.bind(this,t))}parsePrice(t){return parseFloat(t.replace(/[^\d,]/g,"").replace(",","."))}startDragging(t,e){e.preventDefault();const s=n=>{this.drag(t,n)},i=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("touchmove",s),document.removeEventListener("mouseup",i),document.removeEventListener("touchend",i),this.onChangeComplete()};document.addEventListener("mousemove",s),document.addEventListener("touchmove",s),document.addEventListener("mouseup",i),document.addEventListener("touchend",i)}drag(t,e){const s=this.slider.getBoundingClientRect();let i;e instanceof MouseEvent?i=e.clientX:i=e.touches[0].clientX;let n=(i-s.left)/s.width*100;if(n=Math.max(0,Math.min(n,100)),t===this.minHandle){const o=this.getHandlePosition(this.maxHandle);n<o&&(this.setHandlePosition(t,n),this.minValue=this.positionToValue(n),this.updatePriceDisplay())}else{const o=this.getHandlePosition(this.minHandle);n>o&&(this.setHandlePosition(t,Math.min(n,100)),this.maxValue=this.positionToValue(n),this.updatePriceDisplay())}}setHandlePosition(t,e){t.style.left=`${e}%`}getHandlePosition(t){return parseFloat(t.style.left)}positionToValue(t){return Math.round(this.min+(this.max-this.min)*t/100)}valueToPosition(t){return(t-this.min)/(this.max-this.min)*100}onChangeComplete(){this.updateValues(),this.updatePriceDisplay()}updateValues(){const t=this.getHandlePosition(this.minHandle),e=this.getHandlePosition(this.maxHandle);this.minValue=this.positionToValue(t),this.maxValue=this.positionToValue(e)}updatePriceDisplay(){this.minValue!==null&&this.maxValue!==null&&(this.minPriceElement.textContent=this.formatPrice(this.minValue),this.maxPriceElement.textContent=this.formatPrice(this.maxValue))}formatPrice(t){return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}getValues(){return{[this.minName]:this.minValue||this.min,[this.maxName]:this.maxValue||this.max}}reset(){this.minValue=this.min,this.maxValue=this.max,this.setHandlePosition(this.minHandle,0),this.setHandlePosition(this.maxHandle,100),this.updatePriceDisplay()}isChanged(){return this.minValue!==this.min||this.maxValue!==this.max}}class bt extends HTMLElement{constructor(){super(),this.priceRangeSliders=[],this.blazeSlider=null,this.prevButton=null,this.nextButton=null,this.filterTextOpen=this.querySelector(".filter__text"),this.filterModal=this.querySelector(".filter__modal"),this.closeModal=this.querySelector(".filter__modal__heading svg"),this.dropdownTitles=this.querySelectorAll(".filter_name"),this.forms=this.querySelectorAll(".collection__filter_form"),this.collectionProducts=document.querySelector(".collection_grid__container"),this.collectionLoading=document.querySelector("#collection_loader"),this.btnResetFilter=this.querySelector(".filter_reset"),this.btnApplyFilter=this.querySelector(".filter_submit"),this.productsCount=document.querySelector(".products_count__container .product_count"),this.inputCarousel=this.querySelectorAll("#filterForCarousel .filter-group__checkbox"),this.sortBySelect=document.getElementById("SortBy"),this.initEventListeners(),this.initPriceRangeSliders(),this.prevButton=this.querySelector(".blaze-prev"),this.nextButton=this.querySelector(".blaze-next"),this.sliderElement=this.setupSliderElement(),this.preventDefault()}preventDefault(){var t,e;(t=this.prevButton)==null||t.addEventListener("click",s=>s.preventDefault()),(e=this.nextButton)==null||e.addEventListener("click",s=>s.preventDefault())}setupSliderElement(){if(this.sliderElement=this.querySelector(".carousel-filter-slider"),!!this.sliderElement)return this.blazeSlider=new g(this.sliderElement,{all:{transitionDuration:300,transitionTimingFunction:"cubic-bezier(0.45, 0.1, 0.45, 0.5)",draggable:!0,slidesToShow:6.2,slideGap:"60px",loop:!1},"(max-width: 1200px)":{slidesToShow:4.8,slideGap:"30px"},"(max-width: 768px)":{slidesToShow:3.8,slideGap:"25px"},"(max-width: 480px)":{slidesToShow:2.8,slideGap:"20px"}}),this.setupNavigationButtons(),this.sliderElement}setupNavigationButtons(){if(!this.blazeSlider)return;this.updateNavigationButtons(0,Number(this.blazeSlider.totalSlides)),Number(this.blazeSlider.totalSlides)<=6&&(this.prevButton.style.display="none",this.nextButton.style.display="none"),this.blazeSlider.onSlide((e,s,i)=>{this.updateNavigationButtons(e,i)})}updateNavigationButtons(t,e){if(!this.blazeSlider)return;const s=Number(this.blazeSlider.totalSlides);this.prevButton&&this.prevButton.classList.toggle("disabled",t===0),this.nextButton&&this.nextButton.classList.toggle("disabled",e===s-1)}initPriceRangeSliders(){const t=this.querySelectorAll(".price-range-slider__content"),e=this.querySelector(".price-range-slider__container");t.forEach(s=>{if(s instanceof HTMLElement){const i=new wt(s,e);this.priceRangeSliders.push(i)}})}initEventListeners(){var t;this.addListener(this.filterTextOpen,"click",this.openFilter),this.addListener(this.closeModal,"click",this.closeFilter),document.addEventListener("click",this.handleOutsideClick.bind(this)),this.syncCheckboxes(this.inputCarousel,".filter__dropdown .filter-group__checkbox",!0),this.syncCheckboxes(this.querySelectorAll(".filter__dropdown .filter-group__checkbox"),"#filterForCarousel .filter-group__checkbox",!1),(t=this.dropdownTitles)==null||t.forEach(e=>{this.addListener(e,"click",this.toggleDropdown)}),this.addListener(this.btnResetFilter,"click",this.resetFilter),this.addListener(this.btnApplyFilter,"click",this.applyFilter),this.sortBySelect.addEventListener("change",e=>this.applyFilter(e))}syncCheckboxes(t,e,s){t==null||t.forEach(i=>{i.addEventListener("input",()=>{const n=this.querySelector(`${e}[value="${i.value}"]`);n&&(n.checked=i.checked),s&&this.applyFilter(new Event("input"))})})}addListener(t,e,s){t==null||t.addEventListener(e,s.bind(this))}handleOutsideClick(t){var e;(e=this.filterModal)!=null&&e.hasAttribute("open")&&!this.filterModal.contains(t.target)&&t.target!==this.filterTextOpen&&this.closeFilter()}openFilter(t){var e;t.stopPropagation(),(e=this.filterModal)==null||e.setAttribute("open",""),document.body.classList.add("no-scroll")}closeFilter(){var t;(t=this.filterModal)==null||t.removeAttribute("open"),document.body.classList.remove("no-scroll")}resetFilter(t){var o,a;t.preventDefault(),(o=this.forms)==null||o.forEach(l=>{l.reset()});const s=new URL(window.location.href).searchParams.get("q"),i=new URLSearchParams;s&&i.set("q",s),(a=this.forms)==null||a.forEach(l=>{l.querySelectorAll("input").forEach(c=>{c.type==="checkbox"&&(c.checked=!1)})}),this.priceRangeSliders.forEach(l=>{l.reset()});const n=i.toString();this.updateURL(n),this.applyFilter(t)}applyFilter(t){var l;if(t.preventDefault(),!this.forms||this.forms.length<2)return;(l=this.collectionLoading)==null||l.setAttribute("active",""),this.closeFilter();const e=new FormData;this.forms.forEach(c=>{new FormData(c).forEach((d,h)=>{e.append(h,d)})});const s=new URLSearchParams,n=new URL(window.location.href).searchParams.get("q");n&&s.set("q",n),e.forEach((c,d)=>{c&&s.append(d,c.toString())}),this.priceRangeSliders.forEach(c=>{const d=c.getValues();if(c.isChanged())for(const[h,u]of Object.entries(d))typeof u=="number"&&s.set(h,u.toFixed(2).replace(".",","))});const o=this.sortBySelect.value;o&&s.set("sort_by",o);const a=s.toString();this.updateURL(a),fetch(window.location.pathname+"?"+a,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(c=>c.text()).then(async c=>{await this.updateCollectionProducts(c)}).catch(c=>console.error("Error:",c))}updateURL(t){const e=`${window.location.pathname}?${t}`;history.pushState({path:e},"",e)}async updateCollectionProducts(t){var o,a,l;if(!this.collectionProducts)return;const s=new DOMParser().parseFromString(t,"text/html"),i=(o=s.querySelector(".collection_grid__container"))==null?void 0:o.innerHTML,n=(a=s.querySelector(".products_count__container .product_count"))==null?void 0:a.innerHTML;(l=this.collectionLoading)==null||l.removeAttribute("active"),this.productsCount&&n&&(this.productsCount.innerHTML=n),i&&(this.collectionProducts.innerHTML=i)}toggleDropdown(t){const s=t.currentTarget.nextElementSibling;if(s.hasAttribute("closed"))return this.openDropdown(s);this.closeDropdown(s)}openDropdown(t){t.style.height="0px",t.removeAttribute("closed");const e=t.scrollHeight;t.style.height=e+"px",t.addEventListener("transitionend",()=>{t.style.height="auto"},{once:!0})}closeDropdown(t){const e=t.scrollHeight;t.style.height=e+"px",t.offsetHeight,t.style.height="0px",t.setAttribute("closed",""),t.addEventListener("transitionend",()=>{t.style.height=""},{once:!0})}}class Et extends HTMLElement{constructor(){super(),this.currentPage=1,this.hasMorePages=!0,this.productGrid=this.querySelector(".collection_grid__container"),this.isLoading=!1,this.loadBuffer=1e3}connectedCallback(){if(!this.productGrid||this.productGrid.children.length===0){this.hasMorePages=!1;return}window.addEventListener("scroll",this.handleScroll.bind(this)),this.checkAndLoadProducts()}handleScroll(){this.checkAndLoadProducts()}checkAndLoadProducts(){if(this.isLoading||!this.hasMorePages)return;const t=window.innerHeight+window.scrollY,s=document.body.offsetHeight-(window.innerHeight+this.loadBuffer);t>=s&&this.loadMoreProducts()}loadMoreProducts(){if(!this.hasMorePages||this.isLoading)return;this.isLoading=!0;const t=new URL(window.location.href);t.searchParams.set("page",(this.currentPage+1).toString()),t.searchParams.set("sections",this.dataset.sectionId||""),fetch(t.toString(),{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(e=>e.json()).then(e=>{var a;const s=e[this.dataset.sectionId||""],o=new DOMParser().parseFromString(s,"text/html").querySelectorAll("product-card");if(o.length>0){const l=document.createDocumentFragment();o.forEach(c=>{l.appendChild(c)}),(a=this.productGrid)==null||a.appendChild(l),this.currentPage+=1,setTimeout(()=>this.checkAndLoadProducts(),0)}else this.hasMorePages=!1;this.isLoading=!1}).catch(()=>{this.isLoading=!1})}}class Ct extends HTMLElement{constructor(){super(),this.dropdownElement=this.querySelector(".description_seo__content"),this.arrowDown=this.querySelector(".description_seo__arrow"),this.initEventListeners()}initEventListeners(){this.addListener(this.arrowDown,"click",this.toggleDropdown)}addListener(t,e,s){t==null||t.addEventListener(e,s.bind(this))}toggleDropdown(t){var s;if(!this.dropdownElement)return;((s=this.dropdownElement)==null?void 0:s.hasAttribute("closed"))?this.openDropdown(this.dropdownElement):this.closeDropdown(this.dropdownElement)}openDropdown(t){t.style.height="0px",t.removeAttribute("closed");const e=t.scrollHeight;t.style.height=e+"px",t.addEventListener("transitionend",()=>{t.style.height="auto"},{once:!0})}closeDropdown(t){const e=t.scrollHeight;t.style.height=e+"px",t.offsetHeight,t.style.height="0px",t.setAttribute("closed",""),t.addEventListener("transitionend",()=>{t.style.height=""},{once:!0})}}function x(r){if(r.hasAttribute("closed"))return Lt(r);I(r)}function Lt(r){r.style.height="0px",r.removeAttribute("closed");const t=r.scrollHeight;r.style.height=t+"px",r.addEventListener("transitionend",()=>{r.style.height="auto"},{once:!0})}function I(r){const t=r.scrollHeight;r.style.height=t+"px",r.offsetHeight,r.style.height="0px",r.setAttribute("closed",""),r.addEventListener("transitionend",()=>{r.style.height=""},{once:!0})}class _t extends HTMLElement{constructor(){var t,e;super(),this.shopifyAccessToken="a1dddf2a2f953d4b8ea1c2e6036222d9",this.shopifyUrl="https://totvssp-lazufragrance-dc.myshopify.com",this.couponHeading=this.querySelector(".discount_coupon__heading"),this.form=this.querySelector(".discount_coupon__form"),this.input=this.querySelector(".discount_coupon__input"),this.applyButton=this.querySelector(".discount_coupon__button"),this.errorMessage=this.querySelector(".discount_coupon__error"),this.successMessage=this.querySelector(".discount_coupon__success"),this.appliedCouponsContainer=this.querySelector(".discount_coupon__applied"),this.cartDrawerElement=document.querySelector("cart-drawer"),this.cartSectionElement=document.querySelector("cart-section"),(t=this.couponHeading)==null||t.addEventListener("click",s=>{const i=document.querySelector("cart-drawer .shipping__form");I(i),x(this.form)}),(e=this.form)==null||e.addEventListener("submit",this.handleSubmit.bind(this)),this.initializeAppliedCoupons()}async handleSubmit(t){if(t.preventDefault(),!this.input||!this.applyButton)return;const e=this.input.value.trim();e&&(this.applyButton.disabled=!0,await this.applyCoupon(e),this.applyButton.disabled=!1)}async applyCoupon(t){try{const e=await this.getCart(),i=[...this.getAppliedCoupons(),t],n=await this.updateCartDiscountCodes(e.token,i);this.isCouponApplicable(n)?(this.showSuccessMessage("Cupom aplicado com sucesso"),this.input.value="",this.updateAppliedCoupons(i),this.updateCartDisplay(n)):this.showErrorMessage("Cupom inválido")}catch(e){console.error("Erro ao aplicar cupom:",e),this.showErrorMessage("Erro ao aplicar cupom")}}async removeCoupon(t){var e,s;try{const i=await this.getCart(),n=this.getAppliedCoupons().filter(a=>a!==t),o=await this.updateCartDiscountCodes(i.token,n);this.showSuccessMessage("Cupom removido com sucesso"),(s=(e=this.querySelector(`[data-coupon="${t}"]`))==null?void 0:e.parentElement)==null||s.remove(),this.updateCartDisplay(o)}catch(i){console.error("Erro ao remover cupom:",i),this.showErrorMessage("Erro ao remover cupom")}}async updateCartDiscountCodes(t,e){const s=`${this.shopifyUrl}/api/2024-04/graphql.json`,i={query:`
                mutation cartDiscountCodesUpdate($cartId: ID!, $discountCodes: [String!]) {
                    cartDiscountCodesUpdate(cartId: $cartId, discountCodes: $discountCodes) {
                        cart {
                            discountCodes {
                                code
                                applicable
                            }
                            cost {
                                subtotalAmount {
                                    amount
                                    currencyCode
                                }
                                totalAmount {
                                    amount
                                    currencyCode
                                }
                            }
                        }
                    }
                }
            `,variables:{cartId:`gid://shopify/Cart/${t}`,discountCodes:e}};try{const n=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json","X-Shopify-Storefront-Access-Token":this.shopifyAccessToken},body:JSON.stringify(i)});if(!n.ok){const a=await n.text();throw console.error("API Response:",n.status,a),new Error(`Erro na resposta da API Shopify: ${n.status} ${n.statusText}`)}const o=await n.json();if(o.errors)throw console.error("GraphQL Errors:",o.errors),new Error(`Erro GraphQL: ${o.errors[0].message}`);return o}catch(n){throw console.error("Fetch error:",n),n}}async getCart(){return await(await fetch("/cart.js")).json()}getAppliedCoupons(){var t;return Array.from(((t=this.appliedCouponsContainer)==null?void 0:t.querySelectorAll(".applied_coupon"))||[]).map(e=>{var s;return((s=e.textContent)==null?void 0:s.trim())||""})}updateAppliedCoupons(t){this.appliedCouponsContainer&&(this.appliedCouponsContainer.innerHTML=t.map(e=>`
            <div class="applied_coupon">
                ${e}
                <button class="remove-coupon" data-coupon="${e}">Remover</button>
            </div>
        `).join(""),this.appliedCouponsContainer.querySelectorAll(".remove-coupon").forEach(e=>{e.addEventListener("click",s=>{const i=s.currentTarget.dataset.coupon;i&&this.removeCoupon(i)})}))}updateCartDisplay(t){this.cartDrawerElement.fetchNewCart(),this.cartSectionElement.fetchNewCart();const e=new CustomEvent("cart:updated",{detail:t});document.dispatchEvent(e)}isCouponApplicable(t){return t.data.cartDiscountCodesUpdate.cart.discountCodes.every(e=>e.applicable)}showErrorMessage(t){this.errorMessage&&(this.errorMessage.textContent=t,this.errorMessage.style.display="block",setTimeout(()=>{this.errorMessage.style.display="none"},3e3))}showSuccessMessage(t){this.successMessage&&(this.successMessage.textContent=t,this.successMessage.style.display="block",setTimeout(()=>{this.successMessage.style.display="none"},3e3))}initializeAppliedCoupons(){this.getCart().then(t=>{t.cart_level_discount_applications&&this.updateAppliedCoupons(t.cart_level_discount_applications.map(e=>e.title)),t.items.map(e=>{e.discounts&&e.discounts.map(s=>{this.updateAppliedCoupons(s.title?[s.title]:[])})})})}}class xt extends HTMLElement{constructor(){super(),this.headingLinks=this.querySelectorAll(".heading-links"),this.headingLinks.forEach(t=>{t.addEventListener("click",()=>{const e=t.nextElementSibling;x(e)})})}}class Pt extends HTMLElement{constructor(){super()}}class At extends HTMLElement{constructor(){super(),this.scrollPosition=0,this.iconMenu=this.querySelector(".menu_svg"),this.menuMobile=this.querySelector(".header__mobile_menu .nav_items"),this.closeMenuMobile=this.querySelector(".header__mobile_menu .close_nav_items"),this.mainLinkWithMenu=this.querySelectorAll(".nav_items [data-menu]"),this.mainLinks=this.querySelector(".header__mobile_menu .main_items"),this.submenus=this.querySelectorAll(".nav_items [data-submenu]"),this.submenuBack=this.querySelectorAll(".nav_items .submenu_back__container"),this.searchBtn=this.querySelector(".header__nav_icons .btn-search"),this.searchInputContainer=this.querySelector(".header__nav_icons .search_input__container"),this.menuDesktop=this.querySelector(".header__desktop_menu"),this.initEventListeners()}initEventListeners(){this.iconMenu.addEventListener("click",()=>this.toggleMenuMobile()),this.closeMenuMobile.addEventListener("click",()=>this.toggleMenuMobile()),this.mainLinkWithMenu.forEach(t=>{t.addEventListener("click",()=>this.toggleSubMenu(t.dataset.menu,t)),t.addEventListener("mouseenter",()=>this.toggleSubMenu(t.dataset.menu,t)),this.addEventListener("mouseleave",()=>this.closeSubmenus())}),this.submenuBack.forEach(t=>{t.addEventListener("click",()=>this.closeSubmenus())}),this.searchBtn.addEventListener("click",()=>this.toggleSearchInput()),window.addEventListener("scroll",t=>{window.scrollY>this.scrollPosition?this.menuDesktop.toggleAttribute("closed",window.scrollY>200):this.menuDesktop.removeAttribute("closed"),this.scrollPosition=window.scrollY})}toggleMenuMobile(){this.menuMobile.toggleAttribute("open"),this.menuMobile.hasAttribute("open")?document.body.style.overflow="hidden":document.body.style.overflow="auto",this.closeSubmenus()}toggleSubMenu(t,e){const s=this.querySelectorAll(`[data-submenu="${t}"]`);this.closeSubmenus(),s.forEach(i=>{e.setAttribute("active",""),i.removeAttribute("closed"),this.mainLinks.setAttribute("closed","")})}closeSubmenus(){this.submenus.forEach(t=>{t.setAttribute("closed","")}),this.mainLinkWithMenu.forEach(t=>{t.removeAttribute("active")}),this.mainLinks.removeAttribute("closed")}toggleSearchInput(){this.searchInputContainer.toggleAttribute("open"),this.searchBtn.toggleAttribute("open")}}class qt extends window.HTMLElement{constructor(){super(),this.button=this.querySelector("button"),this.output=this.querySelector("output"),this.button&&this.button.addEventListener("click",()=>{this.output.innerHTML=String(++this.output.value)})}}class Tt extends HTMLElement{constructor(){super(),this.sliderElementGridImagesCarousel=this.setupSlider()}setupSlider(){const t=this.querySelector(".grid-image-slider");return new g(t,{all:{transitionDuration:300,transitionTimingFunction:"cubic-bezier(0.45, 0.1, 0.45, 0.5)",draggable:!0,slidesToShow:2,slideGap:"10px",loop:!0},"(max-width: 480px)":{slidesToShow:1}})}}class kt extends HTMLElement{constructor(){super(),this.videoElements=this.querySelectorAll(".video video"),this.sliderElement=this.setupSlider(),this.setupPlayPauseButtons()}setupPlayPauseButtons(){this.videoElements.forEach(t=>{var s;const e=(s=t.closest(".video"))==null?void 0:s.querySelector(".btn-play-and-pause");e.addEventListener("click",()=>this.playVideo(t,e)),t.addEventListener("click",()=>this.playVideo(t,e))})}playVideo(t,e){t.paused?(t.play(),t.muted=!1,e.classList.add("play")):(t.pause(),t.muted=!0,e.classList.remove("play"))}setupSlider(){const t=this.querySelector(".influencers-component-blaze-slider");if(!t)throw new Error("Slider element not found");const e=new g(t,{all:{transitionDuration:300,transitionTimingFunction:"cubic-bezier(0.45, 0.1, 0.45, 0.5)",slidesToShow:3,slideGap:"clamp(4rem, 15vw, 20rem)",draggable:!0,loop:!0},"(min-width: 768px)":{slidesToShow:3,slideGap:"5rem",draggable:!0},"(min-width: 1024px)":{slidesToShow:5,slideGap:"5rem",draggable:!0}}),s=()=>{this.setupOnSlide(e)};return window.addEventListener("resize",s),this.setupOnSlide(e),e}setupOnSlide(t){const e=Array.from(t.slides);let s=t.stateIndex;window.innerWidth>=1024&&(s=s+1),s===t.totalSlides&&(s=0);let i=t.states[s].next.stateIndex;const n=t.totalSlides;this.updateActiveSlide(e,i),e.forEach((o,a)=>{o.addEventListener("click",()=>{a!==i&&(a===0&&i===n-1?t.next():a===n-1&&i===0?t.prev():a>i?t.next():a<i&&t.prev())})}),t.onSlide(()=>{s=t.stateIndex,window.innerWidth>=1024&&(s=s+1),s===t.totalSlides&&(s=0),i=t.states[s].next.stateIndex,this.updateActiveSlide(e,i)})}updateActiveSlide(t,e){t.forEach((s,i)=>{i===e?(s.classList.add("active"),s.classList.remove("inactive")):(s.classList.add("inactive"),s.classList.remove("active"),this.verifyVideoActive(s))})}verifyVideoActive(t){const e=t.querySelector("video");e.paused===!1&&(e.pause(),e.currentTime=0,e.muted=!0,t.querySelector(".btn-play-and-pause").classList.remove("play"))}}class Mt extends HTMLElement{constructor(){super(),this.productsCarrousel=null,this.lookBookButtons=this.querySelectorAll(".lookbook__button"),this.modalProducts=this.querySelector(".lookbook__modal_products"),this.closeModal=this.querySelector(".lookbook__modal_close"),this.lookBookButtons.forEach(t=>{t.addEventListener("click",()=>this.handleClickButton(t))}),window.innerWidth>768&&this.lookBookButtons[0].classList.add("active"),this.closeModal.addEventListener("click",()=>{this.modalProducts.removeAttribute("open"),window.innerWidth<768&&(document.body.style.overflow="auto")}),this.setupProductsCarrousel()}setupProductsCarrousel(){const t=this.querySelector(".product__carrousel");this.productsCarrousel=new g(t,{all:{draggable:!0,slidesToShow:1,slideGap:"20px",loop:!1}}),this.updateButtonState(0),window.addEventListener("resize",()=>{var e,s;this.updateButtonState(((e=this.productsCarrousel)==null?void 0:e.stateIndex)||0),this.lookBookButtons.forEach(i=>i.classList.remove("active")),this.lookBookButtons[((s=this.productsCarrousel)==null?void 0:s.stateIndex)||0].classList.add("active")}),this.productsCarrousel.onSlide(e=>{this.lookBookButtons.forEach(s=>s.classList.remove("active")),this.lookBookButtons[e].classList.add("active"),this.updateButtonState(e)})}updateButtonState(t){const e=this.querySelector(".lookbook--prev"),s=this.querySelector(".lookbook--next");t===0?e.setAttribute("disabled","true"):e.removeAttribute("disabled"),this.productsCarrousel&&(t===this.productsCarrousel.slides.length-1?s.setAttribute("disabled","true"):s.removeAttribute("disabled"))}handleClickButton(t){const e=t.dataset.index;this.goToSlide(Number(e)),this.lookBookButtons.forEach(s=>s.classList.remove("active")),t.classList.add("active"),this.modalProducts.setAttribute("open",""),window.innerWidth<768&&(document.body.style.overflow="hidden")}goToSlide(t){if(this.productsCarrousel){const e=this.productsCarrousel.stateIndex,s=t-e;s>0?this.productsCarrousel.next(s):s<0&&this.productsCarrousel.prev(Math.abs(s))}}}class It extends HTMLElement{constructor(){super()}}const L=[];function j(r){L.push(r)}function Dt(r){const t=L.indexOf(r);t>-1&&L.splice(t,1)}function v(r,t){L.forEach(e=>e(r,t))}class Ht extends HTMLElement{constructor(){super(),this.quantity=1,this.wayToVariant=[],this.selectedVariant="",this.sliderElementMainProduct=this.setupSlider(),this.installment=this.querySelector(".info_installment"),this.detailHeadings=this.querySelectorAll(".detail-headings"),this.variantsHead=this.querySelectorAll("[data-variant-head]"),this.variantsOptions=this.querySelectorAll("[data-variant-option]"),this.priceProduct=this.querySelector(".price-product"),this.btnAddToCart=this.querySelector(".main-product-form-add-to-cart"),this.fetchData=new _,this.cartDrawer=document.querySelector("cart-drawer");const t=this.querySelector("[data-variant-option]:checked");t&&(this.selectedVariant=t.value),this.variantsOptions.forEach(e=>{e.addEventListener("input",()=>{this.selectedVariant=e.value,v(this.selectedVariant,"mainProduct"),this.changePriceVariantSelected()})}),j(this.handleVariantChange.bind(this)),this.variantsHead.forEach(e=>{e.addEventListener("input",()=>{this.selectHeadings(e),this.changePriceVariantSelected()}),e.checked&&this.selectHeadings(e)}),this.variantsOptions.forEach(e=>this.selectWay(e)),this.detailHeadings.forEach(e=>{e.addEventListener("click",()=>{const s=e.nextElementSibling;x(s)})}),this.quantity=1,this.setup(),m(this.installment),this.changePriceVariantSelected(),this.handleAddToCart()}handleVariantChange(t,e){if(e!=="mainProduct"){const s=this.querySelector(`input[value="${t}"]`);s.checked=!0,this.selectedVariant=t,this.selectWay(s)}}setupVariantOptions(){this.variantsOptions.forEach(s=>{const n=s.dataset.variantOption.split(","),o=s.parentElement;n[0]===this.wayToVariant[0]&&n[1]===this.wayToVariant[1]?o.classList.remove("hidden"):o.classList.add("hidden")});const t=this.querySelectorAll("[data-variant-option]");Array.from(t).filter(s=>{var i;return!((i=s.parentElement)!=null&&i.classList.contains("hidden"))}).every(s=>s.disabled)?this.updateButtonToOutOfStock(!0):this.updateButtonToOutOfStock(!1)}selectHeadings(t){const e=t.dataset.variantHead,s=Number(t.dataset.headPosition);this.wayToVariant[s]=e,this.setupVariantOptions();const i=Array.from(this.variantsOptions).filter(n=>{var o;return!n.disabled&&!((o=n.parentElement)!=null&&o.classList.contains("hidden"))});if(i.length>0&&!i.some(n=>n.checked))i[0].checked=!0,this.selectedVariant=i[0].value,v(this.selectedVariant,"mainProduct");else{const n=this.querySelector("[data-variant-option]:checked");this.selectedVariant=n.value}}selectWay(t){if(t.checked){const s=t.dataset.variantOption.split(","),i=this.querySelector(`[data-variant-head="${s[0]}"]`),n=this.querySelector(`[data-variant-head="${s[1]}"]`);i&&(i.checked=!0),n&&(n.checked=!0),this.variantsHead.forEach(o=>{o.checked&&this.selectHeadings(o)})}}changePriceVariantSelected(){const e=this.querySelector("[data-variant-option]:checked").dataset.price;this.priceProduct.innerText=e,this.installment&&(this.installment.dataset.price=e,m(this.installment))}setupSlider(){const t=this.querySelector(".main-product-slider-images");return new g(t,{all:{transitionDuration:300,transitionTimingFunction:"cubic-bezier(0.45, 0.1, 0.45, 0.5)",draggable:!0,slidesToShow:2.2,slideGap:"20px",loop:!1},"(max-width: 768px)":{slidesToShow:2.2,slideGap:"20px"},"(max-width: 500px)":{slidesToShow:1.2,slideGap:"20px"}})}setup(){this.setupQuantity()}setupQuantity(){const t=this.querySelector("[data-main-product-quantity]"),e=this.querySelector("[data-main-product-quantity-decrease]"),s=this.querySelector("[data-main-product-quantity-increase]");e.addEventListener("click",()=>{Number(t.value)>1&&(this.quantity-=1,t.value=`${this.quantity}`,this.quantity===1&&(e.disabled=!0))}),s.addEventListener("click",()=>{this.quantity+=1,t.value=`${this.quantity}`,e.disabled=!1}),t.addEventListener("change",i=>{Number(t.value)<1||isNaN(Number(t.value))?t.value=this.quantity.toString():this.quantity=Number(t.value),Number(t.value)===1?e.disabled=!0:e.disabled=!1})}setQuantityInputEvents(){this.querySelector("[data-main-product-quantity]").addEventListener("change",this.handleQuantityInputChange.bind(this))}handleQuantityInputChange(t){const e=t.target;isNaN(Number(e.value))||Number(e.value)<1?e.value=this.quantity.toString():this.quantity=Number(e.value)}handleAddToCart(){var t;(t=this.btnAddToCart)==null||t.addEventListener("click",async()=>{var e,s,i,n;try{(e=this.btnAddToCart)==null||e.setAttribute("loading",""),await this.fetchData.addToCart("",this.selectedVariant,this.quantity),(s=this.cartDrawer)==null||s.fetchNewCart(),(i=this.btnAddToCart)==null||i.removeAttribute("loading")}catch(o){y.loadMessage(`${o}`,3e3),(n=this.btnAddToCart)==null||n.removeAttribute("loading")}})}updateButtonToOutOfStock(t=!1){var e,s;if(this.btnAddToCart)if(t===!0){this.btnAddToCart.disabled=!0;const i=(e=this.btnAddToCart)==null?void 0:e.dataset.outOfStock,n=this.btnAddToCart.querySelector(".btn_text");i&&(n.innerHTML=i)}else{this.btnAddToCart.disabled=!1;const i=(s=this.btnAddToCart)==null?void 0:s.dataset.default,n=this.btnAddToCart.querySelector(".btn_text");i&&(n.innerHTML=i)}}}const D=class E extends HTMLElement{constructor(){var t;super(),this.closeButton=this.querySelector(".popup_close"),this.overlay=this.querySelector(".popup__overlay"),this.initializePopUp(),this.closeButton.addEventListener("click",()=>this.closePopUp()),this.overlay.addEventListener("click",()=>this.closePopUp()),(t=this.querySelector(".main-popup"))==null||t.addEventListener("click",e=>e.stopPropagation())}initializePopUp(){const t=localStorage.getItem(E.POPUP_LAST_SHOWN_KEY),e=new Date().getTime();(!t||e-parseInt(t)>E.POPUP_INTERVAL)&&setTimeout(()=>this.openPopUp(),3e3)}openPopUp(){this.classList.add("active"),document.body.style.overflow="hidden",localStorage.setItem(E.POPUP_LAST_SHOWN_KEY,new Date().getTime().toString())}closePopUp(){this.classList.remove("active"),setTimeout(()=>{document.body.style.overflow=""},500)}};D.POPUP_INTERVAL=15*24*60*60*1e3;D.POPUP_LAST_SHOWN_KEY="popupLastShown";let Bt=D;class Vt extends HTMLElement{constructor(){super(),this.installment=this.querySelector(".info_installment"),m(this.installment)}}class Ft extends HTMLElement{constructor(){super()}}class Ot extends HTMLElement{constructor(){super(),this.form=this.querySelector("form"),this.cepInput=this.querySelector("#cep"),this.submitButton=this.querySelector(".shipping_submit"),this.responseContainer=this.querySelector(".shipping__response"),this.bindEvents()}bindEvents(){var t,e;(t=this.form)==null||t.addEventListener("submit",this.handleSubmit.bind(this)),(e=this.cepInput)==null||e.addEventListener("keyup",this.handleKeyUp.bind(this))}handleSubmit(t){t.preventDefault(),this.calculateShipping()}handleKeyUp(t){t.key==="Enter"&&(t.preventDefault(),this.calculateShipping())}async calculateShipping(){var e;const t=(e=this.cepInput)==null?void 0:e.value.replace(/\D/g,"");if(!t||t.length!==8){this.showError("CEP inválido");return}this.showLoading(!0);try{const s=await this.getZipInfo(t),i=await this.getShippingRates(s);this.renderShippingRates(i)}catch{this.showError("Erro ao calcular o frete")}finally{this.showLoading(!1)}}async getZipInfo(t){const e=await fetch(`https://viacep.com.br/ws/${t}/json/`);if(!e.ok)throw new Error("Erro ao buscar informações do CEP");return await e.json()}async getShippingRates(t){const e=await fetch(`/cart/shipping_rates.json?shipping_address[zip]=${t.cep}&shipping_address[country]=Brazil&shipping_address[province]=${t.uf}`);if(!e.ok)throw new Error("Erro ao buscar taxas de envio");return(await e.json()).shipping_rates}renderShippingRates(t){if(!t||t.length===0){this.showError("Não há opções de envio disponíveis para este CEP");return}const e=t.map(s=>`
            <li>
                <span>${s.name} - ${this.formatPrice(s.price)}</span>
                <span>Entrega em ${s.delivery_days} dia(s) útil(eis)</span>
            </li>
        `).join("");this.responseContainer&&(this.responseContainer.innerHTML=`
                <ul class="shipping__rates">
                    ${e}
                </ul>
            `)}showError(t){this.responseContainer&&(this.responseContainer.innerHTML=`<p class="shipping__error">${t}</p>`)}showLoading(t){this.submitButton&&(this.submitButton.classList.toggle("loading",t),this.submitButton.disabled=t)}formatPrice(t){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)}connectedCallback(){this.bindEvents()}disconnectedCallback(){var t,e;(t=this.form)==null||t.removeEventListener("submit",this.handleSubmit.bind(this)),(e=this.cepInput)==null||e.removeEventListener("keyup",this.handleKeyUp.bind(this))}}class Nt extends HTMLElement{constructor(){super(),this.form=this.querySelector("form"),this.cepInput=this.querySelector("#cep"),this.submitButton=this.querySelector(".shipping_submit"),this.responseContainer=this.querySelector(".shipping__response"),this.shippingTitle=this.querySelector(".shipping__title"),this.shippingForm=this.querySelector(".shipping__form"),this.bindEvents()}bindEvents(){var t,e,s;(t=this.form)==null||t.addEventListener("submit",this.handleSubmit.bind(this)),(e=this.cepInput)==null||e.addEventListener("keyup",this.handleKeyUp.bind(this)),(s=this.shippingTitle)==null||s.addEventListener("click",()=>{const i=document.querySelector("cart-drawer .discount_coupon__form");I(i),x(this.shippingForm)})}handleSubmit(t){t.preventDefault(),this.calculateShipping()}handleKeyUp(t){t.key==="Enter"&&(t.preventDefault(),this.calculateShipping())}async calculateShipping(){var e;const t=(e=this.cepInput)==null?void 0:e.value.replace(/\D/g,"");if(!t||t.length!==8){this.showError("CEP inválido");return}this.showLoading(!0);try{const s=await this.getZipInfo(t),i=await this.getShippingRates(s);this.renderShippingRates(i)}catch{this.showError("Erro ao calcular o frete")}finally{this.showLoading(!1)}}async getZipInfo(t){const e=await fetch(`https://viacep.com.br/ws/${t}/json/`);if(!e.ok)throw new Error("Erro ao buscar informações do CEP");return await e.json()}async getShippingRates(t){const e=await fetch(`/cart/shipping_rates.json?shipping_address[zip]=${t.cep}&shipping_address[country]=Brazil&shipping_address[province]=${t.uf}`);if(!e.ok)throw new Error("Erro ao buscar taxas de envio");return(await e.json()).shipping_rates}renderShippingRates(t){if(!t||t.length===0){this.showError("Não há opções de envio disponíveis para este CEP");return}const e=t.map(s=>`
            <li>
                <span>${s.name} - ${this.formatPrice(s.price)}</span>
                <span>Entrega em ${s.delivery_days} dia(s) útil(eis)</span>
            </li>
        `).join("");this.responseContainer&&(this.responseContainer.innerHTML=`
                <ul class="shipping__rates">
                    ${e}
                </ul>
            `)}showError(t){this.responseContainer&&(this.responseContainer.innerHTML=`<p class="shipping__error">${t}</p>`)}showLoading(t){this.submitButton&&(this.submitButton.classList.toggle("loading",t),this.submitButton.disabled=t)}formatPrice(t){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)}disconnectedCallback(){var t,e;(t=this.form)==null||t.removeEventListener("submit",this.handleSubmit.bind(this)),(e=this.cepInput)==null||e.removeEventListener("keyup",this.handleKeyUp.bind(this))}}class Rt extends HTMLElement{constructor(){var t,e;super(),this.quantity=1,this.wayToVariant=[],this.selectedVariant="",this.installmentContent=this.querySelector(".shopbar_installment"),this.variantOptionsMobile=this.querySelectorAll(".variant_option"),this.selectOptionDesktop=this.querySelector(".shopbar_select_desktop"),this.btnAddToCard=this.querySelector(".info_add_to_cart"),this.btnAddToCardMainProduct=document.querySelector("main-product .main-product-form-add-to-cart"),this.footerComponent=document.querySelector("footer-component"),this.priceElement=this.querySelector(".shopbar_price"),this.cartDrawer=document.querySelector("cart-drawer"),this.shopbarContent=this.querySelector(".shopbar__content"),this.shopbarHeading=this.querySelector(".shopbar_heading"),this.shopbarSelectVariant=this.querySelector(".shopbar_select_variant-group"),this.btnOpenModal=this.querySelector(".buton_open_modal"),this.variantsHead=this.querySelectorAll("[data-variant-head]"),this.variantsOptions=this.querySelectorAll("[data-variant-option]"),this.fetchData=new _,m(this.installmentContent),(t=this.btnOpenModal)==null||t.addEventListener("click",()=>{var s,i,n;(s=this.shopbarContent)==null||s.toggleAttribute("open"),(i=this.shopbarHeading)==null||i.toggleAttribute("open"),(n=this.shopbarSelectVariant)==null||n.toggleAttribute("open")}),this.initVariantsMobile(),this.initVariantsDesktop(),(e=this.btnAddToCard)==null||e.addEventListener("click",s=>this.handleAddToCard()),j(this.handleVariantChange.bind(this)),window.addEventListener("scroll",this.checkShopbarVisibility.bind(this)),window.addEventListener("resize",this.checkShopbarVisibility.bind(this)),this.changePriceVariantSelected(),this.checkShopbarVisibility()}updateSelectedOption(t){this.variantOptionsMobile&&this.variantOptionsMobile.forEach(e=>{e.checked=e.value===t}),this.selectOptionDesktop&&t&&(this.selectOptionDesktop.value=t)}handleVariantChange(t,e){if(e!=="shopbar"){const s=this.querySelector(`input[value="${t}"]`),i=this.querySelector(`option[value="${t}"]`);s.checked=!0,i.selected=!0,this.selectedVariant=t,this.selectWay(s)}}initVariantsDesktop(){this.querySelectorAll(".variant-select").forEach(e=>{if(e.addEventListener("change",()=>{const s=e.querySelector("option:checked"),i=s.value;this.selectedVariant=i,this.changePriceVariantDesktop(s),v(this.selectedVariant,"shopbar")}),e.querySelector("option:checked")){const s=e.querySelector("option:checked");this.selectedVariant=s.value,this.changePriceVariantDesktop(s),v(this.selectedVariant,"shopbar")}})}changePriceVariantDesktop(t){const e=t.dataset.price;this.priceElement&&(this.priceElement.innerText=e),this.installmentContent&&(this.installmentContent.dataset.price=e,m(this.installmentContent))}initVariantsMobile(){const t=this.querySelector("[data-variant-option]:checked");t&&(this.selectedVariant=t.value),this.variantsOptions.forEach(e=>{e.addEventListener("input",()=>{this.selectedVariant=e.value,v(this.selectedVariant,"shopbar"),this.changePriceVariantSelected()})}),this.variantsHead.forEach(e=>{e.addEventListener("input",()=>{this.selectHeadings(e),this.changePriceVariantSelected()}),e.checked&&this.selectHeadings(e)}),this.variantsOptions.forEach(e=>this.selectWay(e))}setupVariantOptions(){this.variantsOptions.forEach(s=>{const n=s.dataset.variantOption.split(","),o=s.parentElement;n[0]===this.wayToVariant[0]&&n[1]===this.wayToVariant[1]?o.classList.remove("hidden"):o.classList.add("hidden")});const t=this.querySelectorAll("[data-variant-option]");Array.from(t).filter(s=>{var i;return!((i=s.parentElement)!=null&&i.classList.contains("hidden"))}).every(s=>s.disabled)?this.updateButtonToOutOfStock(!0):this.updateButtonToOutOfStock(!1)}selectHeadings(t){const e=t.dataset.variantHead,s=Number(t.dataset.headPosition);this.wayToVariant[s]=e,this.setupVariantOptions();const i=Array.from(this.variantsOptions).filter(n=>{var o;return!n.disabled&&!((o=n.parentElement)!=null&&o.classList.contains("hidden"))});i.length>0&&i.every(n=>n.checked==!1)?(i[0].checked=!0,this.selectedVariant=i[0].value):this.selectedVariant=""}selectWay(t){if(t.checked){const s=t.dataset.variantOption.split(","),i=this.querySelector(`[data-variant-head="${s[0]}"]`),n=this.querySelector(`[data-variant-head="${s[1]}"]`);i&&(i.checked=!0),n&&(n.checked=!0),this.variantsHead.forEach(o=>{o.checked&&this.selectHeadings(o)})}}changePriceVariantSelected(){const t=this.querySelector("[data-variant-option]:checked");if(t){const e=t.dataset.price;this.priceElement&&(this.priceElement.innerText=e),this.installmentContent&&(this.installmentContent.dataset.price=e,m(this.installmentContent))}}updateButtonToOutOfStock(t=!1){var e,s;if(this.btnAddToCard)if(t===!0){this.btnAddToCard.disabled=!0;const i=(e=this.btnAddToCard)==null?void 0:e.dataset.outOfStock,n=this.btnAddToCard.querySelector(".btn_text");i&&(n.innerHTML=i)}else{this.btnAddToCard.disabled=!1;const i=(s=this.btnAddToCard)==null?void 0:s.dataset.default,n=this.btnAddToCard.querySelector(".btn_text");i&&(n.innerHTML=i)}}checkShopbarVisibility(){if(!this.btnAddToCardMainProduct||!this.footerComponent)return;const t=this.btnAddToCardMainProduct.getBoundingClientRect(),e=this.footerComponent.getBoundingClientRect(),s=window.innerHeight,i=t.bottom<=0,n=e.top<=s,o=document.querySelector(".container_button_whats");i&&!n?(this.setAttribute("open",""),o&&(o.style.display="none")):(this.removeAttribute("open"),o&&(o.style.display="flex"))}async handleAddToCard(){var t,e,s,i;if(this.selectedVariant)try{(t=this.btnAddToCard)==null||t.setAttribute("loading",""),await this.fetchData.addToCart("",this.selectedVariant,this.quantity),(e=this.cartDrawer)==null||e.fetchNewCart(),(s=this.btnAddToCard)==null||s.removeAttribute("loading")}catch(n){y.loadMessage(`${n}`,3e3),(i=this.btnAddToCard)==null||i.removeAttribute("loading")}}disconnectedCallback(){Dt(this.handleVariantChange),window.removeEventListener("scroll",this.checkShopbarVisibility),window.removeEventListener("resize",this.checkShopbarVisibility)}}class $t extends HTMLElement{constructor(){super()}}const H={wishlistItems:[],getAllFavoriteElements:function(){return document.querySelectorAll(".favorite_product_heart")},init:function(){this.initializeWishlist(),this.setupEventListeners(document.body)},initForNewElements:function(r){this.setupEventListeners(r),this.updateAllFavoriteElements(r)},initializeWishlist:function(){const r=localStorage.getItem("wishlist");r&&(this.wishlistItems=JSON.parse(r)),this.updateAllFavoriteElements(document.body)},setupEventListeners:function(r){r.querySelectorAll(".favorite_product_heart").forEach(e=>{e.removeEventListener("click",this.handleClick),e.addEventListener("click",this.handleClick)})},handleClick:function(r){const t=r.currentTarget;H.toggleWishlist(t);const e=document.querySelector("wishlist-grid");e==null||e.init()},updateAllFavoriteElements:function(r){r.querySelectorAll(".favorite_product_heart").forEach(e=>{this.verifyWishlistActive(e)})},verifyWishlistActive:function(r){const t=r.getAttribute("data-handle");t&&this.wishlistItems.includes(t)?r.classList.add("active"):r.classList.remove("active")},toggleWishlist:function(r){const t=r.getAttribute("data-handle");if(t){if(this.wishlistItems.includes(t)){const e=this.wishlistItems.indexOf(t);e>-1&&this.wishlistItems.splice(e,1)}else this.wishlistItems.push(t);this.updateLocalStorage(),this.updateAllFavoriteElements(document.body)}},updateLocalStorage:function(){localStorage.setItem("wishlist",JSON.stringify(this.wishlistItems))},getWishlistItems:function(){return this.wishlistItems}};document.addEventListener("DOMContentLoaded",()=>{H.init()});class zt extends HTMLElement{constructor(){super(),this.productsHandles=[],this.wishlistContent=this.querySelector(".wishlist-grid__content"),this.wishlistEmpty=this.querySelector(".wishlist-empty__content"),this.loaderContainer=this.querySelector(".loader_container"),this.isLoading(!0),this.init()}init(){this.handleLocalStorage()}handleLocalStorage(){const t=localStorage.getItem("wishlist");if(t)try{this.productsHandles=JSON.parse(t),this.fetchProducts()}catch(e){console.error("Error parsing wishlist from localStorage:",e)}}async fetchProducts(){if(this.productsHandles.length===0&&this.wishlistEmpty)return this.isLoading(!1),this.wishlistEmpty.style.opacity="1";try{const t=this.productsHandles.map(n=>fetch(`/products/${n}?view=product-card`).then(o=>o.text())),e=await Promise.all(t),s=new DOMParser,i=e.map(n=>s.parseFromString(n,"text/html").querySelector("product-card")).filter(n=>n!==null);this.wishlistContent&&(this.wishlistContent.innerHTML=i.map(n=>n.outerHTML).join(""),H.init())}catch(t){console.error("Error fetching products:",t)}finally{this.isLoading(!1)}}isLoading(t){this.loaderContainer.classList.toggle("loader_container--active",t)}}let Wt=class extends HTMLElement{constructor(){super(),this.init()}init(){document.addEventListener("click",t=>this.handleClick(t)),window.addEventListener("popstate",()=>this.startTransition()),window.addEventListener("load",()=>this.endTransition())}handleClick(t){const s=t.target.closest("a");s&&s.href&&s.href.startsWith(window.location.origin)&&!s.hasAttribute("target")&&(t.preventDefault(),this.startTransition(),setTimeout(()=>{window.location.href=s.href},300))}startTransition(){const t=document.querySelector(".page-content");t&&t.setAttribute("data-transitioning","true")}endTransition(){const t=document.querySelector(".page-content");t&&t.setAttribute("data-transitioning","false")}};customElements.define("page-transition",Wt);window.customElements.define("hello-world",qt);window.customElements.define("footer-component",xt);window.customElements.define("product-card",Vt);window.customElements.define("carousel-products",ft);window.customElements.define("main-product",Ht);window.customElements.define("shipping-calculator",Ot);window.customElements.define("banner-carousel-products",pt);window.customElements.define("header-component",At);window.customElements.define("influencers-component",kt);window.customElements.define("product-reviews",Ft);window.customElements.define("banner-carrousel",mt);window.customElements.define("about-product",Q);window.customElements.define("wishlist-grid",zt);window.customElements.define("text-section",$t);window.customElements.define("image-grid-carousel",Tt);window.customElements.define("popup-component",Bt);window.customElements.define("look-book",Mt);window.customElements.define("cart-drawer",St);window.customElements.define("discount-coupon",_t);window.customElements.define("cart-section",vt);window.customElements.define("shipping-calculator-cart-drawer",Nt);window.customElements.define("collection-grid",Et);window.customElements.define("collection-filter",bt);window.customElements.define("description-seo",Ct);window.customElements.define("alert-component",y);window.customElements.define("shopbar-component",Rt);window.customElements.define("account-component",J);window.customElements.define("account-access",K);window.customElements.define("grid-articles",Pt);window.customElements.define("article-component",Y);window.customElements.define("main-order",It);
