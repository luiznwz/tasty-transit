<div class="section-grid">
    {% for block in section.blocks %}
        <div class="grid-image">
            <a href="{{ block.settings.url }}">
                <img src="{{ block.settings.image | image_url: width: nil }}" alt="{{ block.settings.text_image }}" width="auto" height="auto">
                <p>{{ block.settings.text_image }}</p>
            </a>
        </div>
    {% endfor %}
</div>

{% schema %}
    {
      "name": "t:sections.grid-images.name",
      "settings": [],
      "blocks": [
        {
          "type": "image",
          "name": "t:sections.grid-images.blocks.image.name",
          "limit": 4,
          "settings": [
            {
              "type": "image_picker",
              "id": "image",
              "label": "t:sections.grid-images.blocks.image.settings.image.label"
            },
            {
              "type": "text",
              "id": "text_image",
              "label": "t:sections.grid-images.blocks.image.settings.text_image.label"
            },
            {
              "type": "url",
              "id": "url",
              "label": "t:sections.grid-images.blocks.image.settings.url.label"
            }
          ]
        }
      ],
      "presets": [
        {
          "name": "t:sections.grid-images.presets.name"
        }
      ]
    }
{% endschema %}