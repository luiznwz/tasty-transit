<div class="suggestion">
    <div class="header-suggestion">
        <div class="title">
            <h2>{{ section.settings.section_title }}</h2>

            {% if section.settings.show_icon %}
                <img src="{{ section.settings.icon_title |  image_url: width: 100 }}" alt="Icon" width="auto" height="auto">
            {% endif %}
        </div>
    </div>

    <div class="suggestion-container">
        {% for block in section.blocks %}
            {% if block.settings.link != blank %}
              <a href="{{ block.settings.link }}" class="suggestion-card card-{{ forloop.index }}">
            {% else %}
              <div class="suggestion-card card-{{ forloop.index }}">
            {% endif %}
                  <div class="suggestion-card-image">
                      <img class="desktop" src="{{ block.settings.image_desktop |  image_url: width: 400 }}" alt="{{ block.settings.title }}" width="auto" height="auto">
                      <img class="mobile" src="{{ block.settings.image_mobile |  image_url: width: 400 }}" alt="{{ block.settings.title }}" width="auto" height="auto">
                  </div>
                  <div class="suggestion-card-information">
                      <h3>{{ block.settings.title }}</h3>
                      <p>{{ block.settings.subtitle }}</p>
                  </div>
            {% if block.settings.link != blank %}
              </a>
            {% else %}
              </div>
            {% endif %}     
        {% endfor %}
    </div>
</div>

{% schema %}
    {
      "name": "t:sections.suggestion.name",
      "settings": [
        {
          "type": "text",
          "id": "section_title",
          "label": "t:sections.suggestion.settings.section_title.label",
          "default": "Suggestion"
        },
        {
          "type": "checkbox",
          "id": "show_icon",
          "label": "t:sections.suggestion.settings.show_icon.label",
          "default": true
        },
        {
          "type": "image_picker",
          "id": "icon_title",
          "label": "t:sections.suggestion.settings.icon_title.label"
        }
      ],
      "blocks": [
        {
          "type": "card",
          "name": "t:sections.suggestion.blocks.card.name",
          "limit": 4,
          "settings": [
            {
              "type": "text",
              "id": "title",
              "label": "t:sections.suggestion.blocks.card.settings.title.label",
              "default": "Title"
            },
            {
              "type": "text",
              "id": "subtitle",
              "label": "t:sections.suggestion.blocks.card.settings.subtitle.label",
              "default": "Lorem ipsum dolor sit amet, consectetur adipiscing elit."
            },
            {
              "type": "image_picker",
              "id": "image_desktop",
              "label": "t:sections.suggestion.blocks.card.settings.image_desktop.label"
            },
            {
              "type": "image_picker",
              "id": "image_mobile",
              "label": "t:sections.suggestion.blocks.card.settings.image_mobile.label"
            },
            {
              "type": "url",
              "id": "link",
              "label": "t:sections.suggestion.blocks.card.settings.link.label"
            }
          ]
        }
      ],
      "presets": [
        {
          "name": "t:sections.suggestion.presets.name"
        }
      ]
    }
{% endschema %}